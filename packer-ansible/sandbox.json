{
  "min_packer_version": "1.5.6",
  "variables": {
    "username": "methridge",
    "gcp_account_file": "/Users/methridge/.config/gcloud/creds/methridge-terrafrom-methridge-sandbox-a30ad7275525.json",
    "project_id": "methridge-sandbox",
    "zone": "us-central1-f"
  },
  "builders": [
    {
      "name": "sandbox-image",
      "type": "googlecompute",
      "account_file": "{{user `gcp_account_file`}}",
      "image_name": "{{user `username`}}-sandbox-ansible",
      "image_family": "{{user `username`}}-sandbox",
      "project_id": "{{user `project_id`}}",
      "source_image_family": "ubuntu-2004-lts",
      "zone": "{{user `zone`}}",
      "ssh_username": "ubuntu"
    }
  ],
  "provisioners": [
    {
      "type": "ansible",
      "playbook_file": "./install.yml",
      "ansible_env_vars": ["ANSIBLE_RETRY_FILES_ENABLED=no"]
    }
  ]
}
